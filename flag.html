
<!-- Flags with erors ... Palau ... Vatican City ... Sao Tome and Principe ... Algeria ... Guinea-Bissau ... Mauritania ... Albania ... Honduras -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flag-tastic</title>
    <style>
        /* Light and Dark Mode Variables */
        :root {
            /* Light Mode (Default) */
            --background-color: #f0f4f8;
            --container-bg-color: #ffffff;
            --primary-color: #4a90e2;
            --text-color: #333333;
            --secondary-text-color: #777777;
            --correct-color: #7ed321;
            --incorrect-color: #d0021b;
            --button-hover-color: #3a7bd5;
            --toggle-bg: #ccc;
            --toggle-circle: #fff;
        }

        body.dark-mode {
            /* Dark Mode */
            --background-color: #121212;
            --container-bg-color: #1e1e1e;
            --primary-color: #8ab4f8; /* Lighter blue for contrast */
            --text-color: #e0e0e0;
            --secondary-text-color: #aaaaaa;
            --correct-color: #6a9b40; /* Darker green for contrast */
            --incorrect-color: #b00020;
            --button-hover-color: #658cce;
            --toggle-bg: #555;
            --toggle-circle: #fff;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            text-align: center;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            transition: background-color 0.5s, color 0.5s;
        }

        .container {
            background-color: var(--container-bg-color);
            padding: 20px 20px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            box-sizing: border-box;
            transition: background-color 0.5s, box-shadow 0.5s;
        }

        h1 {
            font-size: 2em;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        #question {
            font-size: 1.1em;
            color: var(--secondary-text-color);
            margin-bottom: 15px;
        }

        #flag-container {
            height: 140px;
            width: 240px;
            border: 1px solid #e0e0e0;
            margin: 15px auto;
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex; /* Added for centering loading text */
            justify-content: center; /* Added for centering loading text */
            align-items: center; /* Added for centering loading text */
        }
        
        #loading-text {
            color: var(--secondary-text-color);
        }

        #options-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
        }

        .option-button {
            padding: 10px 20px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            background-color: var(--container-bg-color);
            color: var(--primary-color);
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            flex: 1 1 45%;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s, transform 0.2s;
        }

        .option-button:hover {
            background-color: var(--primary-color);
            color: var(--container-bg-color);
            transform: translateY(-2px);
        }

        .correct {
            background-color: var(--correct-color);
            color: white;
            border-color: var(--correct-color);
        }

        .incorrect {
            background-color: var(--incorrect-color);
            color: white;
            border-color: var(--incorrect-color);
        }

        #result {
            margin-top: 15px;
            font-size: 1.1em;
            font-weight: bold;
            height: 25px;
        }

        #next-btn, #mode-toggle, #start-btn {
            padding: 10px 25px;
            border: none;
            background-color: var(--primary-color);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            margin-top: 15px;
            transition: background-color 0.3s, transform 0.2s;
        }

        #next-btn:hover, #mode-toggle:hover, #start-btn:hover {
            background-color: var(--button-hover-color);
            transform: translateY(-2px);
        }

        #next-btn {
            display: none;
        }

        .score-container {
            margin-top: 15px;
            font-size: 1em;
            color: var(--text-color);
        }

        .score-container span {
            font-weight: bold;
            color: var(--primary-color);
        }

        .hidden {
            display: none;
        }

        #footer {
            margin-top: 15px;
            font-size: 0.8em;
            color: var(--secondary-text-color);
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Flag-tastic</h1>
        <button id="start-btn">Start Game</button>
        <button id="mode-toggle">Toggle Dark Mode</button>

        <div id="game-content" class="hidden">
            <p id="question">What country does this flag belong to?</p>
            <div id="flag-container">
                <p id="loading-text" class="hidden">Loading flag image...</p>
            </div>
            <div id="options-container">
                <button class="option-button"></button>
                <button class="option-button"></button>
                <button class="option-button"></button>
                <button class="option-button"></button>
            </div>
            <p id="result"></p>
            <button id="next-btn">Next Flag</button>
            <p class="score-container">Score: <span id="score">0</span></p>
        </div>
        <p id="footer">Â© Designed by Sarveshwaran and Surendranath</p>
    </div>

    <script>
        // List of all countries and their flag URLs
        const flags = {
"Afghanistan": "https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_the_Taliban.svg",
"Andorra": "https://en.wikipedia.org/wiki/Flag_of_Andorra#/media/File:Flag_of_Andorra.svg",
"Angola": "https://upload.wikimedia.org/wikipedia/commons/9/90/Flag_of_Angola.svg",
"Antigua and Barbuda": "https://upload.wikimedia.org/wikipedia/commons/8/89/Flag_of_Antigua_and_Barbuda.svg",
"Argentina": "https://upload.wikimedia.org/wikipedia/commons/1/1a/Flag_of_Argentina.svg",
"Armenia": "https://upload.wikimedia.org/wikipedia/commons/2/2f/Flag_of_Armenia.svg",
"Australia": "https://en.wikipedia.org/wiki/Flag_of_Australia#/media/File:Flag_of_Australia_(converted).svg",
"Austria": "https://upload.wikimedia.org/wikipedia/commons/4/41/Flag_of_Austria.svg",
"Azerbaijan": "https://upload.wikimedia.org/wikipedia/commons/d/dd/Flag_of_Azerbaijan.svg",
"Bahamas": "https://upload.wikimedia.org/wikipedia/commons/9/93/Flag_of_the_Bahamas.svg",
"Bahrain": "https://upload.wikimedia.org/wikipedia/commons/2/2c/Flag_of_Bahrain.svg",
"Bangladesh": "https://upload.wikimedia.org/wikipedia/commons/f/f9/Flag_of_Bangladesh.svg",
"Barbados": "https://upload.wikimedia.org/wikipedia/commons/e/ef/Flag_of_Barbados.svg",
"Belarus": "https://upload.wikimedia.org/wikipedia/commons/8/85/Flag_of_Belarus.svg",
"Belgium": "https://upload.wikimedia.org/wikipedia/commons/9/92/Flag_of_Belgium.svg",
"Belize": "https://upload.wikimedia.org/wikipedia/commons/e/e7/Flag_of_Belize.svg",
"Benin": "https://upload.wikimedia.org/wikipedia/commons/0/0a/Flag_of_Benin.svg",
"Bhutan": "https://upload.wikimedia.org/wikipedia/commons/9/91/Flag_of_Bhutan.svg",
"Bolivia": "https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_Bolivia_%28state%29.svg",
"Bosnia and Herzegovina": "https://upload.wikimedia.org/wikipedia/commons/b/bf/Flag_of_Bosnia_and_Herzegovina.svg",
"Botswana": "https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_Botswana.svg",
"Brazil": "https://upload.wikimedia.org/wikipedia/en/0/05/Flag_of_Brazil.svg",
"Brunei": "https://upload.wikimedia.org/wikipedia/commons/9/9c/Flag_of_Brunei.svg",
"Bulgaria": "https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Bulgaria.svg",
"Burkina Faso": "https://upload.wikimedia.org/wikipedia/commons/3/31/Flag_of_Burkina_Faso.svg",
"Burundi": "https://upload.wikimedia.org/wikipedia/commons/5/50/Flag_of_Burundi.svg",
"Cabo Verde": "https://upload.wikimedia.org/wikipedia/commons/3/38/Flag_of_Cape_Verde.svg",
"Cambodia": "https://upload.wikimedia.org/wikipedia/commons/8/83/Flag_of_Cambodia.svg",
"Cameroon": "https://upload.wikimedia.org/wikipedia/commons/4/4f/Flag_of_Cameroon.svg",
"Canada": "https://upload.wikimedia.org/wikipedia/commons/d/d9/Flag_of_Canada_%28Pantone%29.svg",
"Central African Republic": "https://upload.wikimedia.org/wikipedia/commons/6/6f/Flag_of_the_Central_African_Republic.svg",
"Chad": "https://upload.wikimedia.org/wikipedia/commons/4/4b/Flag_of_Chad.svg",
"Chile": "https://upload.wikimedia.org/wikipedia/commons/7/78/Flag_of_Chile.svg",
"China": "https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg",
"Colombia": "https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Colombia.svg",
"Comoros": "https://upload.wikimedia.org/wikipedia/commons/9/94/Flag_of_the_Comoros.svg",
"Congo": "https://upload.wikimedia.org/wikipedia/commons/9/92/Flag_of_the_Republic_of_the_Congo.svg",
"Costa Rica": "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_Costa_Rica_%28state%29.svg",
"Croatia": "https://upload.wikimedia.org/wikipedia/commons/1/1b/Flag_of_Croatia.svg",
"Cuba": "https://upload.wikimedia.org/wikipedia/commons/b/bd/Flag_of_Cuba.svg",
"Cyprus": "https://upload.wikimedia.org/wikipedia/commons/d/d4/Flag_of_Cyprus.svg",
"Czech Republic": "https://upload.wikimedia.org/wikipedia/commons/c/cb/Flag_of_the_Czech_Republic.svg",
"Denmark": "https://upload.wikimedia.org/wikipedia/commons/9/90/Flag_of_Denmark.svg",
"Djibouti": "https://upload.wikimedia.org/wikipedia/commons/3/34/Flag_of_Djibouti.svg",
"Dominica": "https://upload.wikimedia.org/wikipedia/commons/c/c4/Flag_of_Dominica.svg",
"Dominican Republic": "https://upload.wikimedia.org/wikipedia/commons/9/9f/Flag_of_the_Dominican_Republic.svg",
"East Timor": "https://upload.wikimedia.org/wikipedia/commons/2/26/Flag_of_East_Timor.svg",
"Ecuador": "https://upload.wikimedia.org/wikipedia/commons/e/e8/Flag_of_Ecuador.svg",
"Egypt": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Flag_of_Egypt.svg",
"El Salvador": "https://upload.wikimedia.org/wikipedia/commons/3/34/Flag_of_El_Salvador.svg",
"Equatorial Guinea": "https://upload.wikimedia.org/wikipedia/commons/3/31/Flag_of_Equatorial_Guinea.svg",
"Eritrea": "https://upload.wikimedia.org/wikipedia/commons/2/29/Flag_of_Eritrea.svg",
"Estonia": "https://upload.wikimedia.org/wikipedia/commons/8/8f/Flag_of_Estonia.svg",
"Eswatini": "https://upload.wikimedia.org/wikipedia/commons/f/fb/Flag_of_Eswatini.svg",
"Ethiopia": "https://upload.wikimedia.org/wikipedia/commons/7/71/Flag_of_Ethiopia.svg",
"Fiji": "https://upload.wikimedia.org/wikipedia/commons/b/ba/Flag_of_Fiji.svg",
"Finland": "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_Finland.svg",
"France": "https://upload.wikimedia.org/wikipedia/en/c/c3/Flag_of_France.svg",
"Gabon": "https://upload.wikimedia.org/wikipedia/commons/0/04/Flag_of_Gabon.svg",
"Gambia": "https://upload.wikimedia.org/wikipedia/commons/7/77/Flag_of_The_Gambia.svg",
"Georgia": "https://upload.wikimedia.org/wikipedia/commons/0/0f/Flag_of_Georgia.svg",
"Germany": "https://upload.wikimedia.org/wikipedia/en/b/ba/Flag_of_Germany.svg",
"Ghana": "https://upload.wikimedia.org/wikipedia/commons/1/19/Flag_of_Ghana.svg",
"Greece": "https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Greece.svg",
"Grenada": "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_Grenada.svg",
"Guatemala": "https://upload.wikimedia.org/wikipedia/commons/e/ec/Flag_of_Guatemala.svg",
"Guinea": "https://upload.wikimedia.org/wikipedia/commons/e/ed/Flag_of_Guinea.svg",
"Guyana": "https://upload.wikimedia.org/wikipedia/commons/9/99/Flag_of_Guyana.svg",
"Haiti": "https://upload.wikimedia.org/wikipedia/commons/5/56/Flag_of_Haiti.svg",
"Hungary": "https://upload.wikimedia.org/wikipedia/commons/c/c1/Flag_of_Hungary.svg",
"Iceland": "https://upload.wikimedia.org/wikipedia/commons/c/ce/Flag_of_Iceland.svg",
"India": "https://upload.wikimedia.org/wikipedia/en/4/41/Flag_of_India.svg",
"Indonesia": "https://upload.wikimedia.org/wikipedia/commons/9/9f/Flag_of_Indonesia.svg",
"Iran": "https://upload.wikimedia.org/wikipedia/commons/c/ca/Flag_of_Iran.svg",
"Iraq": "https://upload.wikimedia.org/wikipedia/commons/f/f6/Flag_of_Iraq.svg",
"Ireland": "https://upload.wikimedia.org/wikipedia/commons/4/45/Flag_of_Ireland.svg",
"Israel": "https://upload.wikimedia.org/wikipedia/commons/d/d4/Flag_of_Israel.svg",
"Italy": "https://upload.wikimedia.org/wikipedia/en/0/03/Flag_of_Italy.svg",
"Jamaica": "https://upload.wikimedia.org/wikipedia/commons/0/0a/Flag_of_Jamaica.svg",
"Japan": "https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg",
"Jordan": "https://upload.wikimedia.org/wikipedia/commons/c/c0/Flag_of_Jordan.svg",
"Kazakhstan": "https://upload.wikimedia.org/wikipedia/commons/d/d3/Flag_of_Kazakhstan.svg",
"Kenya": "https://upload.wikimedia.org/wikipedia/commons/4/49/Flag_of_Kenya.svg",
"Kiribati": "https://upload.wikimedia.org/wikipedia/commons/d/d3/Flag_of_Kiribati.svg",
"Kosovo": "https://upload.wikimedia.org/wikipedia/commons/1/1f/Flag_of_Kosovo.svg",
"Kuwait": "https://upload.wikimedia.org/wikipedia/commons/a/aa/Flag_of_Kuwait.svg",
"Kyrgyzstan": "https://upload.wikimedia.org/wikipedia/commons/c/c7/Flag_of_Kyrgyzstan.svg",
"Laos": "https://upload.wikimedia.org/wikipedia/commons/5/56/Flag_of_Laos.svg",
"Latvia": "https://upload.wikimedia.org/wikipedia/commons/8/84/Flag_of_Latvia.svg",
"Lebanon": "https://upload.wikimedia.org/wikipedia/commons/5/59/Flag_of_Lebanon.svg",
"Lesotho": "https://upload.wikimedia.org/wikipedia/commons/4/48/Flag_of_Lesotho.svg",
"Liberia": "https://upload.wikimedia.org/wikipedia/commons/b/b8/Flag_of_Liberia.svg",
"Libya": "https://upload.wikimedia.org/wikipedia/commons/0/05/Flag_of_Libya.svg",
"Liechtenstein": "https://upload.wikimedia.org/wikipedia/commons/4/47/Flag_of_Liechtenstein.svg",
"Lithuania": "https://upload.wikimedia.org/wikipedia/commons/1/11/Flag_of_Lithuania.svg",
"Luxembourg": "https://upload.wikimedia.org/wikipedia/commons/d/da/Flag_of_Luxembourg.svg",
"Madagascar": "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_Madagascar.svg",
"Malawi": "https://upload.wikimedia.org/wikipedia/commons/3/30/Flag_of_Malawi.svg",
"Malaysia": "https://upload.wikimedia.org/wikipedia/commons/6/66/Flag_of_Malaysia.svg",
"Maldives": "https://upload.wikimedia.org/wikipedia/commons/0/0f/Flag_of_Maldives.svg",
"Mali": "https://upload.wikimedia.org/wikipedia/commons/9/92/Flag_of_Mali.svg",
"Malta": "https://upload.wikimedia.org/wikipedia/commons/7/73/Flag_of_Malta.svg",
"Marshall Islands": "https://upload.wikimedia.org/wikipedia/commons/2/2e/Flag_of_the_Marshall_Islands.svg",
"Mauritius": "https://upload.wikimedia.org/wikipedia/commons/7/77/Flag_of_Mauritius.svg",
"Mexico": "https://upload.wikimedia.org/wikipedia/commons/f/fc/Flag_of_Mexico.svg",
"Micronesia": "https://upload.wikimedia.org/wikipedia/commons/f/f4/Flag_of_the_Federated_States_of_Micronesia.svg",
"Moldova": "https://upload.wikimedia.org/wikipedia/commons/2/27/Flag_of_Moldova.svg",
"Monaco": "https://upload.wikimedia.org/wikipedia/commons/e/ea/Flag_of_Monaco.svg",
"Mongolia": "https://upload.wikimedia.org/wikipedia/commons/4/4c/Flag_of_Mongolia.svg",
"Montenegro": "https://upload.wikimedia.org/wikipedia/commons/6/64/Flag_of_Montenegro.svg",
"Morocco": "https://upload.wikimedia.org/wikipedia/commons/2/2c/Flag_of_Morocco.svg",
"Mozambique": "https://upload.wikimedia.org/wikipedia/commons/d/d0/Flag_of_Mozambique.svg",
"Myanmar": "https://upload.wikimedia.org/wikipedia/commons/8/8c/Flag_of_Myanmar.svg",
"Namibia": "https://upload.wikimedia.org/wikipedia/commons/0/00/Flag_of_Namibia.svg",
"Nauru": "https://upload.wikimedia.org/wikipedia/commons/3/30/Flag_of_Nauru.svg",
"Nepal": "https://upload.wikimedia.org/wikipedia/commons/9/9b/Flag_of_Nepal.svg",
"Netherlands": "https://upload.wikimedia.org/wikipedia/commons/2/20/Flag_of_the_Netherlands.svg",
"New Zealand": "https://upload.wikimedia.org/wikipedia/commons/3/3e/Flag_of_New_Zealand.svg",
"Nicaragua": "https://upload.wikimedia.org/wikipedia/commons/1/19/Flag_of_Nicaragua.svg",
"Niger": "https://upload.wikimedia.org/wikipedia/commons/f/f4/Flag_of_Niger.svg",
"Nigeria": "https://upload.wikimedia.org/wikipedia/commons/7/79/Flag_of_Nigeria.svg",
"North Korea": "https://upload.wikimedia.org/wikipedia/commons/5/51/Flag_of_North_Korea.svg",
"North Macedonia": "https://upload.wikimedia.org/wikipedia/commons/7/79/Flag_of_North_Macedonia.svg",
"Norway": "https://upload.wikimedia.org/wikipedia/commons/d/d9/Flag_of_Norway.svg",
"Oman": "https://upload.wikimedia.org/wikipedia/commons/6/6f/Flag_of_Oman.svg",
"Pakistan": "https://upload.wikimedia.org/wikipedia/commons/3/32/Flag_of_Pakistan.svg",
"Palestine": "https://upload.wikimedia.org/wikipedia/commons/0/00/Flag_of_Palestine.svg",
"Panama": "https://upload.wikimedia.org/wikipedia/commons/a/ab/Flag_of_Panama.svg",
"Papua New Guinea": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg",
"Paraguay": "https://upload.wikimedia.org/wikipedia/commons/2/27/Flag_of_Paraguay.svg",
"Peru": "https://upload.wikimedia.org/wikipedia/commons/c/cf/Flag_of_Peru.svg",
"Philippines": "https://upload.wikimedia.org/wikipedia/commons/9/99/Flag_of_the_Philippines.svg",
"Poland": "https://upload.wikimedia.org/wikipedia/commons/1/12/Flag_of_Poland.svg",
"Portugal": "https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Portugal.svg",
"Qatar": "https://upload.wikimedia.org/wikipedia/commons/6/65/Flag_of_Qatar.svg",
"Romania": "https://upload.wikimedia.org/wikipedia/commons/7/73/Flag_of_Romania.svg",
"Russia": "https://upload.wikimedia.org/wikipedia/en/f/f3/Flag_of_Russia.svg",
"Rwanda": "https://upload.wikimedia.org/wikipedia/commons/1/17/Flag_of_Rwanda.svg",
"Saint Kitts and Nevis": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Flag_of_Saint_Kitts_and_Nevis.svg",
"Saint Lucia": "https://upload.wikimedia.org/wikipedia/commons/9/9f/Flag_of_Saint_Lucia.svg",
"Saint Vincent and the Grenadines": "https://upload.wikimedia.org/wikipedia/commons/6/6d/Flag_of_Saint_Vincent_and_the_Grenadines.svg",
"Samoa": "https://upload.wikimedia.org/wikipedia/commons/3/31/Flag_of_Samoa.svg",
"San Marino": "https://upload.wikimedia.org/wikipedia/commons/b/b1/Flag_of_San_Marino.svg",
"Saudi Arabia": "https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_Saudi_Arabia.svg",
"Senegal": "https://upload.wikimedia.org/wikipedia/commons/f/fd/Flag_of_Senegal.svg",
"Serbia": "https://upload.wikimedia.org/wikipedia/commons/f/ff/Flag_of_Serbia.svg",
"Seychelles": "https://upload.wikimedia.org/wikipedia/commons/9/91/Flag_of_Seychelles.svg",
"Sierra Leone": "https://upload.wikimedia.org/wikipedia/commons/1/17/Flag_of_Sierra_Leone.svg",
"Singapore": "https://upload.wikimedia.org/wikipedia/commons/4/48/Flag_of_Singapore.svg",
"Slovakia": "https://upload.wikimedia.org/wikipedia/commons/e/e6/Flag_of_Slovakia.svg",
"Slovenia": "https://upload.wikimedia.org/wikipedia/commons/f/f0/Flag_of_Slovenia.svg",
"Solomon Islands": "https://upload.wikimedia.org/wikipedia/commons/7/74/Flag_of_the_Solomon_Islands.svg",
"Somalia": "https://upload.wikimedia.org/wikipedia/commons/a/a0/Flag_of_Somalia.svg",
"South Africa": "https://upload.wikimedia.org/wikipedia/commons/a/af/Flag_of_South_Africa.svg",
"South Korea": "https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg",
"South Sudan": "https://upload.wikimedia.org/wikipedia/commons/7/7a/Flag_of_South_Sudan.svg",
"Spain": "https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg",
"Sri Lanka": "https://upload.wikimedia.org/wikipedia/commons/1/11/Flag_of_Sri_Lanka.svg",
"Sudan": "https://upload.wikimedia.org/wikipedia/commons/7/78/Flag_of_Sudan.svg",
"Suriname": "https://upload.wikimedia.org/wikipedia/commons/6/60/Flag_of_Suriname.svg",
"Sweden": "https://upload.wikimedia.org/wikipedia/commons/4/4c/Flag_of_Sweden.svg",
"Switzerland": "https://upload.wikimedia.org/wikipedia/commons/0/08/Flag_of_Switzerland.svg",
"Syria": "https://upload.wikimedia.org/wikipedia/commons/5/53/Flag_of_Syria.svg",
"Taiwan": "https://upload.wikimedia.org/wikipedia/commons/7/72/Flag_of_the_Republic_of_China.svg",
"Tajikistan": "https://upload.wikimedia.org/wikipedia/commons/d/d0/Flag_of_Tajikistan.svg",
"Tanzania": "https://upload.wikimedia.org/wikipedia/commons/3/38/Flag_of_Tanzania.svg",
"Thailand": "https://upload.wikimedia.org/wikipedia/commons/a/a9/Flag_of_Thailand.svg",
"Togo": "https://upload.wikimedia.org/wikipedia/commons/6/68/Flag_of_Togo.svg",
"Tonga": "https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Tonga.svg",
"Trinidad and Tobago": "https://upload.wikimedia.org/wikipedia/commons/6/64/Flag_of_Trinidad_and_Tobago.svg",
"Tunisia": "https://upload.wikimedia.org/wikipedia/commons/c/ce/Flag_of_Tunisia.svg",
"Turkey": "https://upload.wikimedia.org/wikipedia/commons/b/b4/Flag_of_Turkey.svg",
"Turkmenistan": "https://upload.wikimedia.org/wikipedia/commons/1/1b/Flag_of_Turkmenistan.svg",
"Tuvalu": "https://upload.wikimedia.org/wikipedia/commons/3/38/Flag_of_Tuvalu.svg",
"Uganda": "https://upload.wikimedia.org/wikipedia/commons/4/4e/Flag_of_Uganda.svg",
"Ukraine": "https://upload.wikimedia.org/wikipedia/commons/4/49/Flag_of_Ukraine.svg",
"United Arab Emirates": "https://upload.wikimedia.org/wikipedia/commons/c/cb/Flag_of_the_United_Arab_Emirates.svg",
"United Kingdom": "https://upload.wikimedia.org/wikipedia/en/a/ae/Flag_of_the_United_Kingdom.svg",
"United States": "https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg",
"Uruguay": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Flag_of_Uruguay.svg",
"Uzbekistan": "https://upload.wikimedia.org/wikipedia/commons/8/84/Flag_of_Uzbekistan.svg",
"Vanuatu": "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_Vanuatu.svg",
"Venezuela": "https://upload.wikimedia.org/wikipedia/commons/0/06/Flag_of_Venezuela.svg",
"Vietnam": "https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg",
"Yemen": "https://upload.wikimedia.org/wikipedia/commons/8/89/Flag_of_Yemen.svg",
"Zambia": "https://upload.wikimedia.org/wikipedia/commons/f/f6/Flag_of_Zambia.svg",
"Zimbabwe": "https://upload.wikimedia.org/wikipedia/commons/4/4a/Flag_of_Zimbabwe.svg"
        };

        const flagContainer = document.getElementById('flag-container');
        const optionsContainer = document.getElementById('options-container');
        const optionButtons = document.querySelectorAll('.option-button');
        const resultText = document.getElementById('result');
        const scoreSpan = document.getElementById('score');
        const nextButton = document.getElementById('next-btn');
        const modeToggle = document.getElementById('mode-toggle');
        const startButton = document.getElementById('start-btn');
        const gameContent = document.getElementById('game-content');
        const loadingText = document.getElementById('loading-text');

        let score = 0;
        let countries = Object.keys(flags);
        let currentCountry = "";

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function newRound() {
            loadingText.classList.remove('hidden');
            flagContainer.style.backgroundImage = 'none'; // Clear the previous flag

            currentCountry = countries[Math.floor(Math.random() * countries.length)];
            const flagUrl = flags[currentCountry];

            // Use a temporary image object to check for loading
            const tempImage = new Image();
            tempImage.onload = () => {
                loadingText.classList.add('hidden');
                flagContainer.style.backgroundImage = `url('${flagUrl}')`;
            };
            tempImage.src = flagUrl;
            
            // Set a timeout in case the image fails to load, to still show the game
            tempImage.onerror = () => {
                loadingText.classList.add('hidden');
                console.error('Failed to load flag image:', flagUrl);
            };

            resultText.textContent = "";
            nextButton.style.display = 'none';
            optionsContainer.style.display = 'flex';

            optionButtons.forEach(btn => {
                btn.className = 'option-button';
                btn.onclick = () => checkAnswer(btn.textContent, btn);
            });

            let options = new Set();
            options.add(currentCountry);
            while (options.size < 4) {
                const randomCountry = countries[Math.floor(Math.random() * countries.length)];
                options.add(randomCountry);
            }

            let shuffledOptions = Array.from(options);
            shuffleArray(shuffledOptions);

            for (let i = 0; i < optionButtons.length; i++) {
                const button = optionButtons[i];
                button.textContent = shuffledOptions[i];
            }
        }

        function checkAnswer(guess, button) {
            optionButtons.forEach(btn => btn.onclick = null);

            if (guess === currentCountry) {
                resultText.textContent = "Correct! Great job! ðŸŽ‰";
                resultText.style.color = 'var(--correct-color)';
                button.classList.add('correct');
                score++;
            } else {
                resultText.textContent = `Sorry, that's incorrect. The correct answer was ${currentCountry}.`;
                resultText.style.color = 'var(--incorrect-color)';
                button.classList.add('incorrect');
                optionButtons.forEach(btn => {
                    if (btn.textContent === currentCountry) {
                        btn.classList.add('correct');
                    }
                });
            }
            scoreSpan.textContent = score;
            nextButton.style.display = 'block';
        }

        modeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const isDarkMode = document.body.classList.contains('dark-mode');
            modeToggle.textContent = isDarkMode ? "Toggle Light Mode" : "Toggle Dark Mode";
        });

        startButton.addEventListener('click', () => {
            startButton.style.display = 'none';
            gameContent.classList.remove('hidden');
            newRound();
        });

        nextButton.addEventListener('click', newRound);
    </script>
</body>
</html>
